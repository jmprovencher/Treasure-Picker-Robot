

\section{Diagramme de classe}

Le diagramme de classe à une taille trop importante pour être intégré au rapport, mais il se retrouve sous forme d'image dans le dossier de remise. Une bref description du flot d'éxécution de la routine suivra afin de mieu comprendre la fonction de chaque classe. \medbreak
Du côté de la station de base, le main initialise l'interface. Les boutons permettent par la suite de commencer une routine en initialisant la classe StationBase avec la table de jeux et la routine voulu. Ce thread est le controleur de la station. Il commence par initialiser les autres threads: 
\begin{enumerate}
\item StationServeur. Ce thread initialise une connection TCP avec le robot (avec TCPServeur). Il est en charge d'envoyer et de traiter tout la communication entre la station de base et le robot. Ceci est effectué par l'envoie de fichier JSON qui sont créé par la classe RequeteJSON.
\item FeedVideoStation. Ce thread a comme simple tache de lire les images de la caméra world.
\item AnalyseImageWorld. Ce thread ce sers des classes de Detection pour repérer les îles, trésors et le robot. Ceux-ci utilise les différentes intervalle de couleurs correspondante à chaque table dans IntervalleCouleur. Une fois trouvée, Les éléments cartographiques sont ajouté à la classe Carte.
\item ImageVirtuelle. Ce thread est en charge de dessiner sur l'image obtenue afin de l'afficher dans l'interface avec les informations voulu (trajectoire prévue, position robot, etc.). La classe représente donc tout simplement la carte virtuelle.
\end{enumerate}
Suite à l'initialisation de StationBase, Interface initialise un dernier thread (AfficherImageVirtuelle). Celui-ci a comme seul tâche de mettre à jour le feed vidéo (ImageVirtuelle) dans l'interface.  \medbreak
La classe StationBase dès le début de l'éxécution initialise la classe Trajectoire avec GrilleCellule. Celle-ci représente la matrice de position que peut prendre le robot. Lors de la demande d'un trajet, Trajectoire appelle AlgorithmeTrajectoire avec la grille de cellule. Cette classe trouvera la trajectoire demandé. \medbreak
Finalement, la classe RedirigeurTexte sers simplement à rediriger les print dans la boite de texte de l'interface.\bigbreak
Du coté du robot, le controleur est la classe Robot. La communication se déroule comme avec la station de base avec les classes (RequeteJSON, RobotClient, TCPClient). La classe UARTDriver est utilisé pour envoyer des commandes par UART. Tandis que la classe LectureUART est utilisé pour lire et traiter les données envoyé par le UART. \medbreak
Lorsque le robot débute les phase d'alignement, il se sert de AnalyseImageEmbarquee et la classe de detection correspondante afin de trouver les déplacements requis. \medbreak
La classe, RobotService est utilisée pour obtenir l'indice à l'aide de la lettre manchester.\bigbreak
Finalement, la classe ConfigPath est utilisée afin de transformer les path locale en path absolu. 