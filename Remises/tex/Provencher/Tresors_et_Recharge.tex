La caméra Logitech C905 située sur le robot permettra de repérer les différents trésors ainsi que la station de recharge. Cette caméra sera contrôlée par les Servomoteurs fournis qui permettront à la caméra un déplacement sur son axe horizontal et vertical afin d'augmenter le champ de vision du robot. Afin de contrôler le « Polulu » Maestro 6-Channel USB Servo Controller, des commandes seront envoyées par USB à partir de l'ordinateur embarqué situé sur le robot. La caméra embarquée sera également reliée directement à l'ordinateur embarquée afin d'être alimentée et de fournir les images captées. La fréquence de captation des images reste à déterminer puisqu'il faudra décider à quel intervalle nous devons mettre à jour la vision du robot. L'envoi des commandes afin de contrôler la prise d'image par la caméra sera effectuée par la librairie Pygame en Python.

Afin de détecter les trésors, une première approximation de leur position est effectuée par la caméra monde qui, à l'aide de la librairie cv2 de OpenCV, permet de localiser dans une image un intervalle de couleur BGR. Le choix de la librairie d'OpenCV est justifié par le fait qu'elle possède toutes les fonctions nécessaires à un programme de vision complet et qu'elle s'intègre facilement au reste du code en Python. Les tests effectuées avec la caméra monde ont permis de venir à la conclusion que la détection des trésors s'effectuent très bien. Par contre, les tests ont également permis de constater que la caméra monde ne voit pas le fond de la table et donc, certains trésors ne seront pas détecter par la caméra monde, justifiant la détection des trésors également par la caméra embarquée. Par la suite, les différents pixels correspondant à la couleur des trésors sont placés dans un masque des trésors. Grâce à la position relative de ces points dans le masque des trésors, il est possible d'avoir une position approximative de ces trésors dans la carte virtuelle. Afin de confirmer la détection de ces trésors ou pour repérer les trésors qui seront hors du champ de vision du robot, la même opération de détection des couleurs est effectuée ensuite par la caméra embarquée autour des coordonnées approximative détectée par la caméra monde.

La station de recharge, quant à elle, est marquée d'une couleur caractéristique lui permettant de se distinguer du reste du décor. Comme la position et l'orientation du robot est connue en tout temps et que la station de recharge est toujours situé au même endroit, la détection de celle-ci est assez simple. Comme le robot peut être placé à n'importe quel endroit au départ sur la table, la caméra monde est chargée à l'initialisation du programme de détecter la position et l'orientation de celui-ci. Afin de réaliser cette tâche, un drapeau pirate est placé sur le dessus du robot afin d'indiquer l'orientation ainsi que la position de celui-ci et sera détecter par notre programme de vision.
